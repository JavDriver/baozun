<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>pc铺款</title>
		<link href="css/css.css" rel="stylesheet" type="text/css" />
		<script src="js/html2canvas.min.js"></script>

	<!-- 将canvas图片保存成图片 -->
	<script src="js/canvas2image.js"></script>
	<script src="js/base64.js"></script>
</head>

<body>
<div id=content  class="w1200">

<div class="conter clearfix">
  <ul class="clearfix">
	<li>
	<span><img src="images/01.jpg"></span>
	<p>糖果渐变色比基尼内裤</p>
		<em><cite>HIPHUGGER PANTY</cite></em>
		<i><img src="images/06.png"></i>
	</li>
	  
	 <li>
	  <span><img src="images/02.jpg"></span>
		 <p><cite>LOGO</cite>腰带高腰三角裤</p>
		<em><cite>HIPHUGGER PANTY</cite></em>
		<i><img src="images/06.png"></i>
	  </li> 
	
	   <li>
	  <span><img src="images/03.jpg"></span>
		 <p>时尚条纹拼接比基尼内裤</p>
		<em><cite>HIPHUGGER PANTY</cite></em>
		<i><img src="images/06.png"></i>
	  </li> 
	  </ul>
	
	
</div>	
<div class="conter1 clearfix">
	 <ul class="clearfix">
	     <li>
	  <span><img src="images/04.jpg"></span>
		 <p>时尚条纹拼接比基尼内裤</p>
		<em><cite>HIPHUGGER PANTY</cite></em>
		<i><img src="images/06.png"></i>
	  </li> 
	  
	     <li>
	  <span><img src="images/05.jpg"></span>
		 <p>时尚条纹拼接比基尼内裤</p>
		<em><cite>HIPHUGGER PANTY</cite></em>
		<i><img src="images/06.png"></i>
	  </li> 
	</ul>
	</div>
	
		<button id="btnSave">转换成图片</button>
	<div id="images"></div>
	<button id="Download">Download</button>
</body>
	
	<script>
/*生成canvas图形*/7

// 获取按钮id
var btnSave = document.getElementById("btnSave");
// 获取内容id
var content = document.getElementById("content");
// 进行canvas生成
btnSave.onclick = function(){
	html2canvas(content, {
        onrendered: function(canvas) {
        	//添加属性
        	canvas.setAttribute('id','thecanvas');
			//读取属性值
			// var value= canvas.getAttribute('id');
            document.getElementById('images').appendChild(canvas);
        }
	});
}
</script>
<script>
/*
 * 说明
 * html2canvas，目前该插件还在开发中，暂不支持带有图片的div转换。图片会被忽略
 * 对一些的默认样式的支持可能不那么尽如人意，建议自己定义样式,
 * 不支持iframe
 * 不支持跨域图片
 * 不能在浏览器插件中使用
 * 部分浏览器上不支持SVG图片
 * 不支持Flash
 * 不支持古代浏览器和IE，如果你想确认是否支持某个浏览器，可以用它访问 http://deerface.sinaapp.com/ 试试
 */
var Download = document.getElementById("Download");
Download.onclick = function(){
	var oCanvas = document.getElementById("thecanvas");

	/*自动保存为png*/
	// 获取图片资源
	var img_data1 = Canvas2Image.saveAsPNG(oCanvas, true).getAttribute('src');
	saveFile(img_data1, 'abc');


	/*下面的为原生的保存，不带格式名*/
	// 这将会提示用户保存PNG图片
	// Canvas2Image.saveAsPNG(oCanvas);
}
// 保存文件函数
var saveFile = function(data, filename){
    var save_link = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');
    save_link.href = data;
    save_link.download = filename;
   
    var event = document.createEvent('MouseEvents');
    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
    save_link.dispatchEvent(event);
};
</script>
	
</html>
